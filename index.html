<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MemorIA - Jogo da Mem√≥ria</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #ececdb;
        }
        .preserve-3d {
            transform-style: preserve-3d;
        }
        .backface-hidden {
            backface-visibility: hidden;
        }
        .rotate-y-180 {
            transform: rotateY(180deg);
        }
        .memoria-teal {
            background: linear-gradient(135deg, #0d7377, #14a085);
        }
        .memoria-orange {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }
        .memoria-dark-teal {
            background: linear-gradient(135deg, #0a5d61, #0d7377);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // √çcones simples em texto
        const RotateCcw = () => <span>üîÑ</span>;
        const Check = () => <span>‚úì</span>;

        const MemoryGame = () => {
            const [cards, setCards] = useState([]);
            const [flippedCards, setFlippedCards] = useState([]);
            const [selectedCards, setSelectedCards] = useState([]);
            const [matchedPairs, setMatchedPairs] = useState([]);
            const [score, setScore] = useState(0);
            const [attempts, setAttempts] = useState(0);
            const [justification, setJustification] = useState('');

            // Pares de perguntas e respostas com justificativas
            const cardPairs = [
                    { id: 1, question: "O que diz a 1¬™ Lei de Newton?", answer: "Lei da In√©rcia", justification: "A 1¬™ Lei de Newton afirma que um corpo em repouso tende a permanecer em repouso, e um corpo em movimento tende a permanecer em movimento com velocidade constante, a menos que uma for√ßa atue sobre ele." },
                    { id: 2, question: "Qual a f√≥rmula da velocidade m√©dia?", answer: "Vm = ŒîS/Œît", justification: "A velocidade m√©dia √© calculada pela divis√£o da varia√ß√£o do espa√ßo (ŒîS) pela varia√ß√£o do tempo (Œît), indicando a rapidez de um corpo em seu percurso." },
                    { id: 3, question: "Qual a forma de energia associada ao movimento de um corpo?", answer: "Energia cin√©tica", justification: "A energia cin√©tica √© a energia que um corpo em movimento possui. √â diretamente proporcional √† massa e ao quadrado da velocidade do corpo." },
                    { id: 4, question: "O que √© um corpo em queda livre?", answer: "Um corpo sujeito apenas √† gravidade", justification: "Em queda livre, a √∫nica for√ßa que atua sobre um corpo √© a for√ßa da gravidade, ou seja, a resist√™ncia do ar √© desprezada." },
                    { id: 5, question: "Como se chama a for√ßa que se op√µe ao movimento?", answer: "Atrito", justification: "A for√ßa de atrito √© uma for√ßa de contato que surge quando h√° uma tend√™ncia de movimento entre duas superf√≠cies, agindo no sentido oposto ao movimento." },
                    { id: 6, question: "Qual a unidade de medida da for√ßa no SI?", answer: "Newton (N)", justification: "A unidade de for√ßa no Sistema Internacional (SI) √© o Newton, em homenagem a Isaac Newton, e √© derivada das unidades de massa (kg), comprimento (m) e tempo (s)." },
                    { id: 7, question: "Qual a f√≥rmula da 2¬™ Lei de Newton?", answer: "F = m.a", justification: "A 2¬™ Lei de Newton (ou Princ√≠pio Fundamental da Din√¢mica) mostra que a for√ßa resultante (F) sobre um corpo √© igual ao produto de sua massa (m) por sua acelera√ß√£o (a)." },
                    { id: 8, question: "Qual a 3¬™ Lei de Newton?", answer: "A√ß√£o e Rea√ß√£o", justification: "A 3¬™ Lei de Newton diz que para toda a√ß√£o (for√ßa), existe uma rea√ß√£o (for√ßa) de mesma intensidade, mesma dire√ß√£o e sentido oposto, atuando em corpos diferentes." }
                ];

            // Inicializar o jogo
            useEffect(() => {
                initializeGame();
            }, []);

            const initializeGame = () => {
                const gameCards = [];
                cardPairs.forEach((pair, index) => {
                    gameCards.push({
                        id: `q-${pair.id}`,
                        content: pair.question,
                        type: 'question',
                        pairId: pair.id,
                        isFlipped: false,
                        isMatched: false
                    });
                    gameCards.push({
                        id: `a-${pair.id}`,
                        content: pair.answer,
                        type: 'answer',
                        pairId: pair.id,
                        isFlipped: false,
                        isMatched: false
                    });
                });
                
                // Embaralhar as cartas
                const shuffledCards = gameCards.sort(() => Math.random() - 0.5);
                setCards(shuffledCards);
                setFlippedCards([]);
                setSelectedCards([]);
                setMatchedPairs([]);
                setScore(0);
                setAttempts(0);
                setJustification('');
            };

            const handleCardClick = (cardId) => {
                const card = cards.find(c => c.id === cardId);
                
                // N√£o fazer nada se a carta j√° est√° virada ou j√° foi pareada
                if (card.isFlipped || card.isMatched || selectedCards.length >= 2) {
                    return;
                }

                // Virar a carta
                const updatedCards = cards.map(c => 
                    c.id === cardId ? { ...c, isFlipped: true } : c
                );
                setCards(updatedCards);
                setFlippedCards([...flippedCards, cardId]);
                setSelectedCards([...selectedCards, card]);
            };

            const handleConfirm = () => {
                if (selectedCards.length !== 2) return;

                setAttempts(attempts + 1);
                const [card1, card2] = selectedCards;

                // Verificar se as cartas formam um par
                if (card1.pairId === card2.pairId && card1.type !== card2.type) {
                    // Par correto!
                    const updatedCards = cards.map(c => 
                        (c.id === card1.id || c.id === card2.id) 
                            ? { ...c, isMatched: true }
                            : c
                    );
                    setCards(updatedCards);
                    setMatchedPairs([...matchedPairs, card1.pairId]);
                    setScore(score + 10);
                    
                    const correctPair = cardPairs.find(p => p.id === card1.pairId);
                    setJustification(correctPair.justification);

                    setSelectedCards([]);
                    setFlippedCards([]);

                    // Limpa a justificativa ap√≥s alguns segundos
                    setTimeout(() => {
                        setJustification('');
                    }, 5000);

                } else {
                    // Par incorreto - desvirar as cartas ap√≥s um delay
                    setTimeout(() => {
                        const updatedCards = cards.map(c => 
                            (c.id === card1.id || c.id === card2.id) 
                                ? { ...c, isFlipped: false }
                                : c
                        );
                        setCards(updatedCards);
                        setSelectedCards([]);
                        setFlippedCards([]);
                    }, 1500);
                }
            };

            const resetGame = () => {
                initializeGame();
            };

            const isGameComplete = matchedPairs.length === cardPairs.length;

            return React.createElement('div', {
                className: 'min-h-screen p-6',
                style: { backgroundColor: '#ececdb' }
            }, 
                React.createElement('div', {
                    className: 'max-w-6xl mx-auto'
                },
                    React.createElement('div', {
                        className: 'text-center mb-8'
                    },
                        React.createElement('div', {
                            className: 'flex items-center justify-center gap-4 mb-6'
                        },
                            React.createElement('div', {
                                className: 'text-6xl'
                            }, 'üê¨'),
                            React.createElement('h1', {
                                className: 'text-5xl font-bold',
                                style: { color: '#0d7377' }
                            }, 'MemorIA'),
                            React.createElement('div', {
                                className: 'text-2xl',
                                style: { color: '#f39c12' }
                            }, 'üéì')
                        ),
                        React.createElement('p', {
                            className: 'text-lg mb-6',
                            style: { color: '#0a5d61' }
                        }, 'Jogo da Mem√≥ria com IA'),
                        React.createElement('div', {
                            className: 'bg-white/80 backdrop-blur-sm rounded-lg p-4 inline-block shadow-lg border',
                            style: { borderColor: '#0d7377' }
                        },
                            React.createElement('div', {
                                className: 'flex gap-6 font-semibold',
                                style: { color: '#0d7377' }
                            },
                                React.createElement('span', {}, `Pontua√ß√£o: ${score}`),
                                React.createElement('span', {}, `Tentativas: ${attempts}`),
                                React.createElement('span', {}, `Pares encontrados: ${matchedPairs.length}/${cardPairs.length}`)
                            )
                        )
                    ),
                    
                    isGameComplete && React.createElement('div', {
                        className: 'text-center mb-6'
                    },
                        React.createElement('div', {
                            className: 'text-white p-6 rounded-lg inline-block shadow-lg memoria-teal'
                        },
                            React.createElement('h2', {
                                className: 'text-3xl font-bold mb-2'
                            }, 'üéâ Parab√©ns! Voc√™ completou o jogo!'),
                            React.createElement('p', {
                                className: 'text-lg'
                            }, `Pontua√ß√£o final: ${score} pontos em ${attempts} tentativas`)
                        )
                    ),

                    // Novo bloco para a justificativa
                    justification && React.createElement('div', {
                        className: 'text-center mb-6'
                    },
                        React.createElement('div', {
                            className: 'bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative',
                            role: 'alert'
                        },
                            React.createElement('strong', {
                                className: 'font-bold'
                            }, 'Curiosidade: '),
                            React.createElement('span', {
                                className: 'block sm:inline'
                            }, justification)
                        )
                    ),

                    React.createElement('div', {
                        className: 'grid grid-cols-4 gap-4 mb-6'
                    },
                        cards.map((card) => 
                            React.createElement('div', {
                                key: card.id,
                                onClick: () => handleCardClick(card.id),
                                className: `relative h-32 cursor-pointer transition-all duration-300 transform hover:scale-105 ${card.isMatched ? 'opacity-60' : ''}`
                            },
                                React.createElement('div', {
                                    className: `absolute inset-0 w-full h-full rounded-lg shadow-lg transition-transform duration-500 preserve-3d ${card.isFlipped || card.isMatched ? 'rotate-y-180' : ''}`
                                },
                                    // Verso da carta
                                    React.createElement('div', {
                                        className: 'absolute inset-0 w-full h-full rounded-lg flex items-center justify-center backface-hidden memoria-dark-teal shadow-lg border-2',
                                        style: { borderColor: '#0a5d61' }
                                    },
                                        React.createElement('div', {
                                            className: 'text-white text-5xl'
                                        }, 'üß†')
                                    ),
                                    
                                    // Frente da carta
                                    React.createElement('div', {
                                        className: `absolute inset-0 w-full h-full rounded-lg flex items-center justify-center p-3 text-center rotate-y-180 backface-hidden shadow-lg border-2 ${card.type === 'question' ? 'memoria-teal' : 'memoria-orange'}`,
                                        style: { borderColor: card.type === 'question' ? '#0d7377' : '#e67e22' }
                                    },
                                        React.createElement('div', {
                                            className: 'text-white text-sm font-medium leading-tight'
                                        }, card.content)
                                    )
                                )
                            )
                        )
                    ),

                    React.createElement('div', {
                        className: 'text-center space-y-4'
                    },
                        React.createElement('div', {
                            className: 'flex justify-center gap-4'
                        },
                            React.createElement('button', {
                                onClick: handleConfirm,
                                disabled: selectedCards.length !== 2,
                                className: `px-6 py-3 rounded-lg font-semibold flex items-center gap-2 transition-all shadow-lg ${selectedCards.length === 2 ? 'memoria-teal hover:opacity-90 text-white cursor-pointer' : 'bg-gray-400 text-gray-600 cursor-not-allowed'}`
                            },
                                React.createElement(Check),
                                `Confirmar Par (${selectedCards.length}/2)`
                            ),

                            React.createElement('button', {
                                onClick: resetGame,
                                className: 'px-6 py-3 text-white rounded-lg font-semibold flex items-center gap-2 transition-all shadow-lg memoria-orange hover:opacity-90'
                            },
                                React.createElement(RotateCcw),
                                'Novo Jogo'
                            )
                        ),

                        React.createElement('div', {
                            className: 'text-sm max-w-md mx-auto bg-white/60 p-4 rounded-lg shadow-lg',
                            style: { color: '#0a5d61' }
                        },
                            React.createElement('p', {
                                className: 'font-medium mb-2'
                            }, 'Como jogar:'),
                            React.createElement('p', {
                                className: 'mb-1'
                            }, '‚Ä¢ Clique nas cartas para vir√°-las'),
                            React.createElement('p', {
                                className: 'mb-1'
                            }, '‚Ä¢ Encontre os pares de pergunta e resposta'),
                            React.createElement('p', {}, '‚Ä¢ Selecione duas cartas e confirme o par!')
                        )
                    )
                )
            );
        };

        ReactDOM.render(React.createElement(MemoryGame), document.getElementById('root'));
    </script>
</body>
</html>